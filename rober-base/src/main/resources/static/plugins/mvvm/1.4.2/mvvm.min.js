/*!
 * mvvm.js v1.4.2 (c) 2017 TANG
 * Released under the MIT license
 * Tue Nov 07 2017 20:14:02 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MVVM=e()}(this,function(){"use strict";function t(t,e){return typeof t===e}function e(t){return"[object Object]"===Jt.toString.call(t)}function i(t){return Array.isArray(t)}function n(e){return t(e,"function")}function s(e){return t(e,"string")}function r(e){return t(e,"boolean")}function o(e){return t(e,"number")&&!isNaN(e)}function h(t){return!(!t||!e(t)||t.nodeType||t===t.window)&&!(t.constructor&&!Kt.call(t.constructor.prototype,"isPrototypeOf"))}function u(t){return 0===Object.keys(t).length}function a(t){return null==t?"":t.toString()}function c(t){if(s(t)){var e=Number(t);return o(e)?e:t}return t}function l(){}function f(){Xt&&Xt.warn.apply(Xt,arguments)}function d(){Xt&&Xt.error.apply(Xt,arguments)}function p(t,e){return t&&Kt.call(t,e)}function v(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,enumerable:!!n,configurable:!0})}function _(t,n,s){var r,o;if(s||(s=this),i(t))for(r=0;r<t.length&&(o=n.call(s,t[r],r,t),o!==!1);r++)null===o&&(t.splice(r,1),r--);else if(e(t)){var h=Object.keys(t);for(r=0;r<h.length;r++){var u=h[r];if(o=n.call(s,t[u],u,t),o===!1)break;null===o&&delete t[u]}}}function m(){var t,e,s,o,u,a,c=arguments,l=arguments[0]||{},f=1,d=arguments.length,p=!1;for(r(l)&&(p=l,l=arguments[f]||{},f++),"object"==typeof l||n(l)||(l={}),f===d&&(l=this,f--);f<d;f++)if(null!=(t=c[f]))for(e in t)s=l[e],o=t[e],l!==o&&(p&&o&&(h(o)||(u=i(o)))?(u?(u=!1,a=s&&i(s)?s:[]):a=s&&h(s)?s:{},l[e]=m(p,a,o)):void 0!==o&&(l[e]=o));return l}function b(t){var n;return i(t)?n=m(!0,[],t):e(t)&&(n=m(!0,{},t)),n||t}function g(){return document.createDocumentFragment()}function y(t){for(var e,i=g();e=t.firstChild;)i.appendChild(e);return i}function $(t){return t.replace(Yt,"")}function w(t,e,i){if(!e)return t;for(var n=e.split(".");n.length>1&&p(t,n[0]);)t=t[n.shift()];return e=n[0],"undefined"!=typeof i?void(t[e]=i):t[e]}function x(t){this.path=t,this.watchers=[],this.guid=te++}function k(t){return t}function O(t){return""}function C(t){var e=t.charCodeAt(0);if(e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57)return ne;switch(e){case 91:case 93:case 46:case 34:case 39:return se;default:return re}}function A(t){var e=[],i=t.split(""),n=i.length-1,s=C(i[0]);return he.init(s),_(i,function(t,i){var s=C(t),r=he.set(s,t);r&&e.push(r),i===n&&he.saves&&(e.push(he.saves),he.reset())}),e}function N(t,e){for(;e.length;)t=t[e.shift()];return t}function D(t){return A($(t))}function I(t,i,n){var s=b(n),r=s.pop(),o=N(t,s);e(o)&&(o[r]=i)}function E(t){var e=me.length;return me[e]=t,'"'+e+'"'}function T(t,e){return me[e]}function j(t){var e=t.charAt(0),i=t.slice(1);return pe.test(i)||_e.test(i)?t:(i=i.indexOf('"')>-1?i.replace(ue,T):i,e+"scope."+i)}function L(t){return fe.test(t)&&!ae.test(t)&&0!==t.indexOf("Math.")}function S(t){return L(t)?"scope."+t:(t=(" "+t).replace(ce,E),t=t.replace(le,j),t=t.replace(ue,T))}function P(t){if(_e.test(t))return f("Avoid using unallow keyword in expression ["+t+"]"),l;try{return new Function("scope","return "+S(t)+";")}catch(e){return d("Invalid generated expression: ["+t+"]"),l}}function U(t){var e=D(t);return e.length?function(t,i){I(t,i,e)}:(d("Invalid setter expression ["+t+"]"),l)}function M(t,e){var i=t&&t.__ob__,n=i&&i.dep.guid;if(n){if(be.indexOf(n)>-1)return;be.push(n)}_(t,function(t){M(t,!1)}),e&&(be.length=0)}function V(t,e,i,s){this.vm=t,m(this,e),this.callback=i,this.context=s||this,this.depIds=[],this.newDepIds=[],this.shallowIds=[],this.depends=[],this.newDepends=[];var r=e.once,o=e.expression,h=n(o);this.getter=h?o:P(o),this.setter=!r&&e.duplex?U(o):null,this.oldVal=null,this.value=r?this.getValue():this.get()}function z(t){this.parser=t,this.scope=t.scope}function F(t,e,i,n){this.vm=t,this.el=e,this.desc=i,this.scope=n,this.parse()}function R(t){return t.prototype=Object.create(F.prototype)}function H(t){return 1===t.nodeType}function q(t){return 3===t.nodeType}function B(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function W(t,e){return t.getAttribute(e)||""}function Z(t,e){t.removeAttribute(e)}function G(t,e,i){return null==i||i===!1?Z(t,e):void(i===!0?(t[e]=i,Q(t,e)||t.setAttribute(e,"")):i!==W(t,e)&&t.setAttribute(e,i))}function Q(t,e){return t.hasAttribute(e)}function J(t,e){var i,n=t.classList;return n?n.contains(e):(i=" "+W(t,"class")+" ",i.indexOf(" "+e+" ")>-1)}function K(t,e){var i,n=t.classList;e&&!J(t,e)&&(n?n.add(e):(i=" "+W(t,"class")+" ",i.indexOf(" "+e+" ")===-1&&G(t,"class",(i+e).trim())))}function X(t,e){var i,n,s=t.classList;if(e&&J(t,e)){if(s)s.remove(e);else{for(n=" "+e+" ",i=" "+W(t,"class")+" ";i.indexOf(n)>-1;)i=i.replace(n," ");G(t,"class",i.trim())}t.className||Z(t,"class")}}function Y(t,e,i,n){t.addEventListener(e,i,n)}function tt(t,e,i,n){t.removeEventListener(e,i,n)}function et(t,e){var i=e.split("."),n=i.indexOf("self")>-1,s=i.indexOf("stop")>-1,r=i.indexOf("one")>-1,o=i.indexOf("prevent")>-1,h=i.indexOf("capture")>-1,u=null;return 0===t.indexOf("key")&&_(i,function(t){if(/^(\d)*$/.test(t))return u=+t,!1}),{self:n,stop:s,prevent:o,capture:h,keyCode:u,one:r}}function it(t){var e=[],i=t.args,n=t.expression.trim();if(i){var s=i.indexOf("."),r=s===-1?i:i.substr(0,s),o=s===-1?"":i.substr(s+1,i.length);e=[{type:r,handler:n,modifier:o}]}else/^{.*}$/.test(n)&&(n=n.substr(1,n.length-2),_($(n).split(","),function(t){var i=t.split(":");e.push({type:i[0],handler:i[1],modifier:""})}));return e}function nt(t){try{return new Function("scope",S(t))}catch(e){return d("Invalid generated expression: ["+t+"]"),l}}function st(){F.apply(this,arguments)}function rt(){F.apply(this,arguments)}function ot(t){for(var e=0;e<Ae.length;e++){var i=Ae[e];v(t,i,Ce[i])}}function ht(t){ke?t.__proto__=Ce:ot(t)}function ut(t,e){return t?t+"*"+e:e}function at(t,e){_(t,function(i,n){dt(t,n,i,ut(e,n))})}function ct(t,e){ht(t),_(t,function(t,i){ft(t,ut(e,i))})}function lt(t,e){this.dep=new x(e),i(t)?ct(t,e):at(t,e),v(t,"__ob__",this)}function ft(t,n){if(e(t)||i(t))return p(t,"__ob__")?t.__ob__:new lt(t,n||"")}function dt(t,e,n,s){var r=new x(s),o=Object.getOwnPropertyDescriptor(t,e),h=o&&o.get,u=o&&o.set,a=ft(n,s);Object.defineProperty(t,e,{get:function(){var e=h?h.call(t):n;return x.watcher&&(r.depend(),a&&a.dep.depend()),i(e)&&_(e,function(t){var e=t&&t.__ob__;e&&e.dep.depend()}),e},set:function(i){var s=h?h.call(t):n;i!==s&&(r.beforeNotify(),u?u.call(t,i):n=i,a=ft(i,e),r.notify())}})}function pt(t,e){var i=new V(t,{expression:e.bind(t)});return function(){return x.watcher&&_(i.depends,function(t){t.depend()}),i.value}}function vt(t,e){_(e,function(e,i){return n(e)?void Object.defineProperty(t,i,{set:l,get:pt(t,e)}):f("computed property ["+i+"] must be a getter function!")})}function _t(t,e){var i,n,s=t.$hooks,r=e.__afterHook__,o=e.__beforeHook__;return r&&(i=s[r]),o&&(n=s[o]),{after:i,before:n}}function mt(){return Math.random().toString(36).substr(2)}function bt(){F.apply(this,arguments)}function gt(t,e){for(var i=t.$regEles,n=e.childNodes,s=0;s<n.length;s++){var r=n[s];if(H(r)){for(var o=r.attributes,h=0;h<o.length;h++){var u=o[h];"v-el"===u.name&&p(i,u.value)&&(i[u.value]=null)}r.hasChildNodes()&&gt(t,r)}}}function yt(){return document.createTextNode("")}function $t(t,e){var i=t.parentNode;i&&i.replaceChild(e,t)}function wt(){F.apply(this,arguments)}function xt(){F.apply(this,arguments)}function kt(){F.apply(this,arguments)}function Ot(t){var e=t.style.display;v(t,Pe,"none"===e?"":e)}function Ct(t,e){t.style.display=e}function At(){F.apply(this,arguments)}function Nt(t,n){var s={};return _(t,function(t,r){var o,h=n[r];if(e(t))o=Nt(t,h),u(o)||(s[r]=o);else if(i(t)){var a=[];_(t,function(t,i){var n;e(t)?(n=Nt(t,h[i]),a.push(n)):h.indexOf(t)<0&&a.push(t)}),s[r]=a}else t!==h&&(s[r]=t)}),s}function Dt(t,e){var n=[];return i(t)&&i(e)?(_(t,function(t){e.indexOf(t)<0&&n.push(t)}),n):t}function It(t,n){var s=i(t)&&i(n),r=e(t)&&e(n),o=r?Nt:s?Dt:null,h=o&&o(t,n)||t,u=o&&o(n,t)||n;return{after:h,before:u}}function Et(t,i){var n=t.style;return e(i)?void _(i,function(t,e){n[e]!==t&&(n[e]=t)}):f("v-bind for style must be a type of Object",i)}function Tt(t,e,i){_(e.split(" "),function(e){i?X(t,e):K(t,e)})}function jt(t,n,r){s(n)?Tt(t,n,r):i(n)?_(n,function(e){Tt(t,e,r)}):e(n)&&_(n,function(e,i){Tt(t,i,r||!e)})}function Lt(){F.apply(this,arguments)}function St(t,e){Ve=Date.now(),setTimeout(function(){Date.now()-Ve>=e&&t.call(t)},e)}function Pt(t,e){for(var i=[],n=t.options,s=0;s<n.length;s++){var r=n[s],o=r.value;r.selected&&i.push(Ut(o,e))}return i}function Ut(t,e){return e?c(t):t}function Mt(t,e){for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1}function Vt(){F.apply(this,arguments)}function zt(){F.apply(this,arguments)}function Ft(t){return 0===t.indexOf("v-")}function Rt(t){return H(t)&&Q(t,"v-once")}function Ht(t){return Q(t,"v-if")||Q(t,"v-for")||Q(t,"v-pre")}function qt(t){if(H(t)&&t.hasAttributes()){for(var e=t.attributes,i=0;i<e.length;i++)if(Ft(e[i].name))return!0}else if(q(t)&&Xe.test(t.textContent))return!0}function Bt(t){var e,i,n=t.name,s=t.value,r=n.indexOf(":");return r>-1?(i=n.substr(r+1),e=n.substr(0,r)):e=n,{args:i,attr:n,directive:e,expression:s}}function Wt(t){t.__afterHook__||v(t,"__afterHook__",W(t,"v-hook:after")),t.__beforeHook__||v(t,"__beforeHook__",W(t,"v-hook:before"))}function Zt(t,e){var i,n,s;return function(r,o,h){var u=r.path;u===i&&o===n&&h===s||(t.apply(e,arguments),i=u,n=o,s=h)}}function Gt(t){var i=t.model,s=t.view,r=t.computed,o=t.watchAll;return H(s)?e(i)?(this.$queue=[],this.$data=i,this.$element=s,this.$regEles={},this.$directives=[],this.$context=t.context||this,this.$ob=ft(this.$data),r&&vt(this.$data,r),this.$afters=[],this.$hooks=t.hooks||{},this.$customs=t.customs||{},this.$unifyCb=n(o)?Zt(o,this.$context):null,void(t.lazy||this.mount())):f("model must be a type of Object: ",i):f("view must be a type of DOMElement: ",s)}function Qt(t){var i=t.context||t.model;_(t.model,function(e,s){n(e)&&(t.model[s]=e.bind(i))}),_(t.methods,function(e,n){t.model[n]=e.bind(i)}),this.__ct__=i,this.__bk__=b(t.model),this.__vm__=new Gt(t),this.$data=this.__vm__.$data,this.$els=this.__vm__.$regEles,_(t.watches,function(t,i){n(t)?this.watch(i,t,!1):e(t)&&this.watch(i,t.handler,t.deep)},this)}var Jt=Object.prototype,Kt=Jt.hasOwnProperty,Xt=window.console,Yt=/\s/g,te=0;x.watcher=null;var ee=x.prototype;ee.addWatcher=function(t){this.watchers.push(t)},ee.removeWatcher=function(t){this.watchers.$remove(t)},ee.depend=function(){x.watcher&&x.watcher.addDepend(this)},ee.beforeNotify=function(){_(this.watchers,function(t){t.beforeUpdate()})},ee.notify=function(t){_(this.watchers,function(e){e.update(t,this)},this)};var ie=0,ne=1,se=2,re=1,oe=[0,k,O,k],he={init:function(t){this.saves="",this.state=t},set:function(t,e){var i=this.get(t),n=i.keepIdent,s=i.tobeQuote,r=i.tobeIdent;if(n)this.save(t,e);else{if(s){var o=this.saves;return this.saves="",this.change(t),o}r&&(this.save(t,e),this.change(t))}},get:function(t){var e=this.state,i=e===ne&&t===ne,n=(e===ne||e===ie)&&t===se,s=e===se&&t===se,r=(e===se||e===ie)&&t===ne;return{keepIdent:i,tobeQuote:n,keepQuote:s,tobeIdent:r}},change:function(t){this.state=t},save:function(t,e){this.saves+=oe[t](e)},reset:function(){this.saves="",this.state=ie}},ue=/"(\d+)"/g,ae=/^(true|false)$/,ce=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,le=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,fe=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,de="JSON.Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",pe=new RegExp("^("+de.replace(/\./g,"\\b|")+"\\b)"),ve="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",_e=new RegExp("^("+ve.replace(/\./g,"\\b|")+"\\b)"),me=[],be=[],ge=V.prototype;ge.getScope=function(){return this.context.scope||this.vm.$data},ge.getValue=function(){var t=this.getScope();return this.getter.call(t,t)},ge.setValue=function(t){var e=this.getScope();this.setter&&this.setter.call(e,e,t)},ge.get=function(){this.beforeGet();var t=this.getValue();return this.deep&&(this.shallowIds=b(this.newDepIds),M(t,!0)),this.afterGet(),t},ge.beforeGet=function(){x.watcher=this},ge.addDepend=function(t){var e=t.guid,i=this.newDepIds;i.indexOf(e)<0&&(i.push(e),this.newDepends.push(t),this.depIds.indexOf(e)<0&&t.addWatcher(this))},ge.removeDepends=function(t){_(this.depends,function(e){t?t.call(this,e)&&e.removeWatcher(this):e.removeWatcher(this)},this)},ge.afterGet=function(){x.watcher=null,this.removeDepends(function(t){return this.newDepIds.indexOf(t.guid)<0}),this.depIds=b(this.newDepIds),this.newDepIds.length=0,this.depends=b(this.newDepends),this.newDepends.length=0},ge.beforeUpdate=function(){this.oldVal=b(this.value)},ge.update=function(t,e){var i=this.oldVal,n=this.vm.$unifyCb,s=this.value=this.get(),r=t&&t.source;if(!r||r===s||"v-for"!==this.directive){var o=this.callback;o&&i!==s&&(o.call(this.context,s,i,this.deep&&this.shallowIds.indexOf(e.guid)<0,t),r&&(t.source=null)),n&&n({action:t,path:e.path},s,i)}},ge.destroy=function(){this.value=null,this.removeDepends(),this.getter=this.setter=null,this.vm=this.callback=this.context=null};var ye=z.prototype;ye.mount=function(){var t=this.parser,e=this.watcher=new V(t.vm,t.desc,this.update,this);this.update(e.value)},ye.destroy=function(){this.watcher.destroy(),this.parser=this.scope=null},ye.update=function(){var t=this.parser;t.update.apply(t,arguments)},ye.get=function(){return this.watcher.value},ye.set=function(t){this.watcher.setValue(t)};var $e=F.prototype;$e.bind=function(){this.directive=new z(this),this.directive.mount()},$e.destroy=function(){var t=this.directive;t?t.destroy():n(this._destroy)&&this._destroy(),this.vm=this.el=this.desc=this.scope=null};var we=R(st);we.parse=function(){_(it(this.desc),function(t){this.parseEvent(t)},this)},we.parseEvent=function(t){var e=t.type,i=t.handler,n=t.modifier,s=et(e,n);if("$remove"===i)return this.bindRemoveEvent(e,s);var r=L(i)?i+"($event)":i;this.bindEvent(e,nt(r),s)},we.bindRemoveEvent=function(t,e){var i=this.scope;if(!i)return f("The specify event $remove must be used in v-for scope");var n=i.__alias__;this.bindEvent(t,function(){i.__viterator__.$remove(i[n])},e)},we.bindEvent=function(t,e,i){var n=this.el,s=this.scope||this.vm.$data,r=i.self,o=i.stop,h=i.prevent,u=i.capture,a=i.keyCode,c=i.one,l=function(t){r&&t.target!==n||a&&a!==t.keyCode||(h&&t.preventDefault(),o&&t.stopPropagation(),v(s,"$event",t),e.call(s,s))},f=c?function(e){l(e),tt(n,t,f,u)}:l;Y(n,t,f,u)};var xe=R(rt);xe.parse=function(){this.scope?f("v-el can not be used inside v-for! Consider use v-custom to handle v-for element."):this.vm.$regEles[this.desc.expression]=this.el};var ke="__proto__"in{},Oe=Array.prototype,Ce=Object.create(Oe);_(["pop","push","sort","shift","splice","unshift","reverse"],function(t){var e=Oe[t];v(Ce,t,function(){for(var i=arguments,n=[],s=this.__ob__,r=0;r<arguments.length;r++)n.push(i[r]);s.dep.beforeNotify();var o,h=e.apply(this,n);switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&o.length&&ct(o),s.dep.notify({method:t,args:n,source:this}),h})}),v(Oe,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),v(Oe,"$remove",function(t){var e=this.indexOf(t);if(e>-1)return this.splice(e,1)});var Ae=Object.getOwnPropertyNames(Ce),Ne="__vfor__",De="__vforid__",Ie=/(.*) (?:in|of) (.*)/,Ee="push|pop|shift|unshift|splice".split("|"),Te=R(bt);Te.parse=function(){var t=this.el,e=this.desc,i=t.parentNode,n=e.expression,s=n.match(Ie);if(!s)return f('The format of v-for must be like "item in/of items"!');if(1!==i.nodeType)return f("v-for cannot use in the root element!");if(Q(t,"v-if"))return f("Do not use v-if and v-for on the same element! Consider filtering the source Array instead.");var r=s[1],o=s[2];this.length=0,this.scopes=[],this.init=!0,this.alias=r,this.partly=!1,this.partlyArgs=[],this.$parent=i,this.end=t.nextSibling,this.start=t.previousSibling,this.bodyDirs=t.__dirs__,this.tpl=t.cloneNode(!0),this.hooks=_t(this.vm,t),this.isOption="OPTION"===t.tagName&&"SELECT"===i.tagName,e.expression=o,this.bind(),this.updateModel()},Te.updateModel=function(){if(this.isOption){var t=this.$parent.__vmodel__;t&&t.forceUpdate()}},Te.hook=function(t,e,i){var s=this.hooks[t];n(s)&&(s.call(this.vm.$context,e,i,e[De]),e=null)},Te.update=function(t,e,i,n){this.length=t&&t.length,this.init?(this.$parent.replaceChild(this.buildList(t),this.el),this.el=null,this.init=!1):n&&Ee.indexOf(n.method)>-1?(this.partly=!0,this.updatePartly(t,n),this.partly=!1):(this.recompileList(t),this.updateModel())},Te.updatePartly=function(t,e){var i=[],n=e.args,s=e.method,r=this.scopes;switch(this[s].call(this,t,n),s){case"pop":case"shift":break;case"push":case"unshift":i=this.partlyArgs;break;case"splice":i=n.slice(0,2),Array.prototype.push.apply(i,this.partlyArgs)}r[s].apply(r,i),this.partlyArgs.length=0,_(r,function(t,e){t.$index=e})},Te.recompileList=function(t){for(var e=this,i=0,n=this.$parent,s=n.childNodes,r=0;r<s.length;r++){var o=s[r];o[Ne]===e.alias&&(e.hook("before",o,i++),n.removeChild(o),r--)}this.scopes.length=0;var h=this.buildList(t);n.insertBefore(h,this.end)},Te.buildList=function(t,e){var i=this.vm,n=this.tpl,s=e||0,r=g(),o=this.directive.watcher.value;return _(t,function(t,e){var h=s+e,u=this.alias,a=n.cloneNode(!0),c=this.scope||i.$data,l=Object.create(c);l.$parent=c,dt(l,u,t),dt(l,"$index",h),v(l,"__alias__",u),v(l,"__viterator__",o),this.partly?this.partlyArgs.push(l):this.scopes.push(l),this.init&&this.bodyDirs>1&&i.block(this.el),v(a,Ne,u),v(a,De,mt()),i.compile(a,!0,l,this.desc.once),r.appendChild(a),this.hook("after",a,h)},this),r},Te.getChilds=function(){for(var t=this,e=[],i=this.$parent.childNodes,n=0;n<i.length;n++){var s=i[n];s[Ne]===t.alias&&e.push(s)}return e},Te.getFirst=function(){var t=this.start;return t&&t.nextSibling||this.$parent.firstChild},Te.getLast=function(){var t=this.end;return t&&t.previousSibling||this.$parent.lastChild},Te.getChild=function(t){return this.getChilds()[t]||null},Te.removeChild=function(t){t&&this.$parent.removeChild(t)},Te.shift=function(){var t=this.getFirst();t&&(this.hook("before",t,0),this.removeChild(t))},Te.pop=function(){var t=this.getLast();t&&(this.hook("before",t,this.length),this.removeChild(t))},Te.push=function(t,e){var i=this.buildList(e,t.length-1);this.$parent.insertBefore(i,this.end)},Te.unshift=function(t,e){var i=this.getFirst(),n=this.buildList(e,0);this.$parent.insertBefore(n,i)},Te.splice=function(t,e){var i=e[0],n=e[1],s=e.slice(2),r=s.length;if(0!==n||r){var o=n&&!r,h=!n&&r,u=n&&r;if(o||u){var a=this.getChilds();_(a,function(t,e){e>=i&&e<i+n&&(this.hook("before",t,e),this.removeChild(t))},this),a=null}if(h||u){var c=this.getChild(i)||this.end,l=this.buildList(s,i);this.$parent.insertBefore(l,c)}}};var je=R(wt);je.parse=function(){var t=this.el,e=t.nextElementSibling,i=t.parentNode;return 1!==i.nodeType?f("v-if cannot use in the root element!"):(this.$parent=i,this.hooks=_t(this.vm,t),this.elTpl=t.cloneNode(!0),this.elAnchor=yt(),$t(t,this.elAnchor),this.el=null,e&&Q(e,"v-else")&&(this.elseTpl=e.cloneNode(!0),this.elseAnchor=yt(),$t(e,this.elseAnchor),e=null),void this.bind())},je.hook=function(t,e,i){var s=this.hooks[t];n(s)&&s.call(this.vm.$context,e,i)},je.update=function(t){var e=this.elseAnchor;this.toggle(this.elAnchor,this.elTpl,t,!1),e&&this.toggle(e,this.elseTpl,!t,!0)},je.toggle=function(t,e,i,n){var s=this.vm,r=this.$parent,o=e.cloneNode(!0);if(i){s.compile(o,!0,this.scope,this.desc.once);var h=r.insertBefore(o,t);this.hook("after",h,n),v(h,"__vif__",!0)}else{var u=t.previousSibling;u&&u.__vif__&&(this.hook("before",u,n),gt(s,e),r.removeChild(u))}};var Le=R(xt);Le.parse=function(){this.bind()},Le.update=function(t){this.el.textContent=a(t)};var Se=R(kt);Se.parse=function(){this.bind()},Se.update=function(t){this.el.innerHTML=a(t)};var Pe="__visible__",Ue=R(At);Ue.parse=function(){var t=this.el;Ot(t);var e=t.nextElementSibling;e&&Q(e,"v-else")&&(this.elseEl=e,Ot(e)),this.bind()},Ue.update=function(t){var e=this.el,i=this.elseEl;Ct(e,t?e[Pe]:"none"),i&&Ct(i,t?"none":i[Pe])};var Me=R(Lt);Me.parse=function(){this.desc.deep=!0,this.bind()},Me.update=function(t,e){var i=this.desc.args;i?this.single(i,t,e):this.multi(t,e)},Me.single=function(t,e,i){switch(t){case"class":this.processClass(e,i);break;case"style":this.processStyle(e,i);break;default:this.processAttr(t,e)}},Me.multi=function(t,e){if(e){var i=It(t,e),n=i.after,s=i.before;this.batch(n,s)}this.batch(t)},Me.batch=function(t,e){_(t,function(t,i){this.single(i,t,e&&e[i])},this)},Me.processClass=function(t,e){var i=this.el;if(e){var n=It(t,e),s=n.after,r=n.before;jt(i,r,!0),jt(i,s)}else jt(i,t)},Me.processStyle=function(t,e){var i=this.el;e&&(_(e,function(t,i){e[i]=""}),Et(i,e)),Et(i,t)},Me.processAttr=function(t,e){G(this.el,t,e)};var Ve=0,ze=window.navigator.userAgent.toLowerCase(),Fe=ze&&ze.indexOf("msie 9.0")>0,Re={bind:function(){function t(t){n&&(t=t.trim());var e=Ut(t,r);o?St(function(){i.onDebounce=!0,h.set(e)},c(o)):h.set(e)}var e,i=this,n=this.trim,s=this.lazy,r=this.number,o=this.debounce,h=this.directive;this.on("compositionstart",function(){e=!0}),this.on("compositionend",function(){e=!1,s||t(this.value)}),this.on("input",function(){e||s||t(this.value)}),this.on("blur",function(){t(this.value)}),this.on("change",function(){t(this.value)}),Fe&&(this.on("cut",function(){t(this.value)}),this.on("keyup",function(e){var i=e.keyCode;8!==i&&46!==i||t(this.value)}))},update:function(t){var e=this.el,i=a(t);e.value===i||this.onDebounce||(e.value=i)}},He={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){e.set(Ut(this.value,t))})},update:function(t){var e=this.el;e.checked=e.value===a(t)}},qe={bind:function(){var t=this.multi,e=this.number,i=this.directive;this.on("change",function(){var n=t?Pt(this,e):Ut(this.value,e);i.set(n)}),this.vm.after(this.forceUpdate,this)},update:function(t){var e=this.el,n=this.multi,s=this.desc.expression;if(e.selectedIndex=-1,n&&!i(t))return f("<select> cannot be multiple when the model set ["+s+"] as not Array");if(!n&&i(t))return f("The model ["+s+"] cannot set as Array when <select> has no multiple propperty");for(var r=e.options,o=0;o<r.length;o++){var h=r[o],u=h.value;h.selected=n?Mt(u,t)>-1:u===a(t)}},forceUpdate:function(){this.update(this.directive.get())}},Be={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){var n=e.get(),s=this.checked;if(r(n))e.set(s);else if(i(n)){var o=Ut(this.value,t),h=Mt(o,n);s&&h===-1?n.push(o):h>-1&&n.splice(h,1)}})},update:function(t){var e=this.el,n=Ut(e.value,this.number);return i(t)||r(t)?void(e.checked=r(t)?t:Mt(n,t)>-1):f("Checkbox v-model value must be a type of Boolean or Array")}},We=["input","select","textarea"],Ze=R(Vt);Ze.parse=function(){var t=this.el,e=this.desc,i=t.tagName.toLowerCase(),n="input"===i?W(t,"type"):i;return We.indexOf(i)<0?f("v-model only for using in "+We.join(", ")):L(e.expression)?(e.duplex=!0,void this.bindDuplex(n)):f("v-model directive value can be use by static expression")},Ze.bindDuplex=function(t){var e,i=this.el;switch(t){case"text":case"password":case"textarea":e=Re,this.trim=Q(i,"trim"),this.lazy=Q(i,"lazy"),this.debounce=W(i,"debounce");break;case"radio":e=He;break;case"checkbox":e=Be;break;case"select":e=qe,v(i,"__vmodel__",this),this.multi=Q(i,"multiple"),this.forceUpdate=qe.forceUpdate.bind(this)}return e?(this.number=Q(i,"number"),this.update=e.update.bind(this),this.bind(),void(this.desc.once||e.bind.call(this))):f("Do not use incorrect form-type with v-model: ",i)},Ze.on=function(t,e){Y(this.el,t,e,!1)};var Ge=R(zt);Ge.parse=function(){var t=this.desc,e=this.vm.$customs[t.args];return n(e)?(this.update=e,void this.bind()):f("Custom directive ["+t.attr+"] must define with a refresh function!")};var Qe={von:st,vel:rt,vif:wt,vfor:bt,vtext:xt,vhtml:kt,vshow:At,vbind:Lt,vmodel:Vt,vcustom:zt},Je=/\n/g,Ke=/\{\{(.+?)\}\}/g,Xe=/(\{\{.*\}\})/,Ye=["velse","vpre","vcloak","vonce","vhook"],ti=Gt.prototype;ti.mount=function(){this.$done=!1,this.$fragment=y(this.$element),this.compile(this.$fragment,!0)},ti.compile=function(t,e,i,n){var s=this,r=t.childNodes,o=!!n||Rt(t);e&&qt(t)&&this.$queue.push([t,i]),v(t,"__vonce__",o);for(var h=0;h<r.length;h++){var u=r[h],a=u.nodeType;if(1===a||3===a){var c=o||Rt(u);qt(u)&&(s.$queue.push([u,i]),v(u,"__vonce__",c)),u.hasChildNodes()&&!Ht(u)&&s.compile(u,!1,i,c)}}e&&this.compileAll()},ti.compileAll=function(){_(this.$queue,function(t){return this.compileNode(t),null},this),this.completed()},ti.compileNode=function(t){var e=t[0],i=t[1];if(H(e)){for(var n,s,r,o,h=[],u=e.attributes,a=0;a<u.length;a++){var c=u[a],l=c.name;Ft(l)&&("v-for"===l?n=c:"v-model"===l?(s=!0,o=h.length):0===l.indexOf("v-bind")?r=!0:0===l.indexOf("v-hook")&&Wt(e),h.push(c))}if(!n&&r&&s&&h.length>1&&o!==h.length-1){var f=h.splice(o,1)[0];h.push(f),f=null}n&&(v(e,"__dirs__",h.length),h=[n],n=null),_(h,function(t){this.parse(e,t,i)},this)}else q(e)&&this.parseText(e,i)},ti.parse=function(t,e,i){var n=t.__vonce__,s=Bt(e),r=s.directive,o="v"+r.substr(2),h=Qe[o];if(Z(t,s.attr),!(Ye.indexOf(o)>-1))if(h){s.once=n;var u=new h(this,t,s,i);n?u.destroy():i||this.$directives.push(u)}else f("["+r+"] is an unknown directive!")},ti.parseText=function(t,e){var i=[],n={},s=t.parentNode&&t.parentNode.__vonce__,r=t.textContent.trim().replace(Je,""),o=r.split(Ke),h=r.match(Ke);_(o,function(t){h.indexOf("{{"+t+"}}")>-1?i.push("("+t+")"):t&&i.push('"'+t+'"')}),n.once=s,n.expression=i.join("+");var u=new Qe.vtext(this,t,n,e);s?u.destroy():e||this.$directives.push(u)},ti.block=function(t){_(this.$queue,function(e){if(t===e[0])return null})},ti.after=function(t,e){this.$afters.push([t,e])},ti.completed=function(){0!==this.$queue.length||this.$done||(this.$done=!0,this.$element.appendChild(this.$fragment),_(this.$afters,function(t){return t[0].call(t[1]),null}))},ti.destroy=function(){this.$data=null,B(this.$element),_(this.$directives,function(t){return t.destroy(),null})};var ei=Qt.prototype;return ei.mount=function(){this.__vm__.mount()},ei.get=function(t){var e=this.$data;return s(t)?w(e,t):e},ei.getCopy=function(t){return b(this.get(t))},ei.set=function(t,i){var n=this.$data;s(t)?w(n,t,i):e(t)&&_(t,function(t,e){w(n,e,t)})},ei.reset=function(t){var e=this.$data,n=b(this.__bk__);s(t)?e[t]=n[t]:i(t)?_(t,function(t){e[t]=n[t]}):_(e,function(t,i){e[i]=n[i]})},ei.watch=function(t,e,i){return new V(this,{deep:i,expression:t},e.bind(this.__ct__))},ei.destroy=function(){this.__vm__.destroy(),this.__vm__=this.__ct__=this.__bk__=this.$data=this.$els=null},Qt});